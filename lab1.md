# Lab1: Data scraping and cleaning

---

# Introduction

In this lab, we are going to collect product data from a website for training a classifier to recognize the type of product. The website is [https://online.citysuper.com.hk/](https://online.citysuper.com.hk/). Citysuper is a supermarket in Hong Kong targeting high-end customers. The website contains a lot of information about their products in different categories.

# Exploring the data source

Let's click on [https://online.citysuper.com.hk/](https://online.citysuper.com.hk/) to see how the website looks like and what information we can get from it.

![Citysuper homepage screenshot](https://url2png.hkbu.app/1600/online.citysuper.com.hk)

There are top menus for different categories of products. We can click on the menu to see the products in the category. For example, if we mouse-over on the "Meat" menu, we can see the products sub-categories under "Meat".

Simply click on the "Beef" sub-category, we can see the products under "Beef" and the URL would be [https://online.citysuper.com.hk/collections/meat-and-poultry-beef](https://online.citysuper.com.hk/collections/meat-and-poultry-beef).

## A trick to get all the products in the website

By exploring the website, we will notice that it provides a way to search for products. For example, if we search for "beef", we can see the products related to "beef" and the URL would be [https://online.citysuper.com.hk/search?q=beef](https://online.citysuper.com.hk/search?q=beef).

We can use this trick to get all the products in the website by searching for single common characters like "a", "b", "c", etc. For example, if we search for "a", we can see the products related to "a" and the URL would be [https://online.citysuper.com.hk/pages/search-results?q=a](https://online.citysuper.com.hk/pages/search-results?q=a).

That's it! We can use this trick to get all the products in the website by looping through all the characters in the alphabet.

## Inspecting traffic to get data in JSON format

After we get the URL for all the products, we can use the trick to get the data in JSON format. For example, if we search for "1", we can see the products related to "1" and inspect the traffic. You will see a request to something like
`https://api.fastsimon.com/full_text_search?q=1&page_num=1&UUID=a576ef0e-353e-426c-8673-dbefcd7987b4`.

The response is in Javascript format, and we can see the data in JSON format by removing the `ispSearchResult(` and `)` at the beginning and the end of the response.

```js
ispSearchResult({
    "uuid": "a576ef0e-353e-426c-8673-dbefcd7987b4",
    "items": [{
        "l": "HERSHEY'S Genuine Chocolate Flavor Syrup  (680g)",
        "c": "HKD",
        "u": "/products/hersheys-genuine-chocolate-flavor-syrup-15400137",
        "p": "42.00",
        "p_min": "",
        "p_max": "",
        "p_c": "0.00",
        "p_min_c": "0.00",
        "p_max_c": "0.00",
        "d": "Keep refrigerated after opening *Photo for reference only. ",
        "t": "https://cdn.shopify.com/s/files/1/2597/8324/products/15400137-1-hershey-s-genuine-chocolate-flavor-syrup-680g_large.jpg?v=1661945179",
        "t2": "https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/d3b92be8-bb54-4fb1-bc48-6cf76dd02736",
        "f": 0,
        "s": "4459343970347::31771184824363",
        "sku": "15400137",
        "p_spl": 0,
        "id": "4459343970347",
        "skus": ["15400137", "HERSHEY'S", "\u6731\u53e4\u529b\u5473\u7cd6\u6f3f", "", "(680g)"],
        "v_c": 1,
        "iso": false,
        "vra": [[31771184824363, [["Barcode", ["HERSHEY'S \u6731\u53e4\u529b\u5473\u7cd6\u6f3f (680g)"]], ["Price", ["HKD:42.00"]], ["Product-sku", ["15400137"]], ["Sellable", [true]], ["Title", ["Default Title"]]]]],
        "vrc": {}
    }, {
        "l": "CITTERIO Pancetta Tesa Affumicata - Smoked Streaky Bacon  (150g)",
        "c": "HKD",
        "u": "/products/citterio-pancetta-tesa-affumicata-smoked-streaky-bacon-100045",
        "p": "60.00",
        "p_min": "",
        "p_max": "",
        "p_c": "0.00",
        "p_min_c": "0.00",
        "p_max_c": "0.00",
        "d": "Quality, passion and professionalism in charcuterie production since 1878, the Italian brand aims to bringing the flavours and scents of Italian tradition straight to your table. These quality and tasty Smoked Streaky Bacon is incredibly versatile for any flavourful recipes, ideal to pan-fry, grill, roast and add into pasta, salads, or make various appetizers. Keep refrigerated *Photo for reference only. ",
        "t": "https://cdn.shopify.com/s/files/1/2597/8324/products/100045-1-citterio-pancetta-tesa-affumicata-smoked-streaky-bacon-100g_large.jpg?v=1691401078",
        "t2": "https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/f978487e-1d01-4999-a79c-e3394d3ea20d",
        "f": 0,
        "s": "4824242946091::32922621542443",
        "sku": "100045",
        "p_spl": 0,
        "id": "4824242946091",
        "skus": ["100045", "CITTERIO", "\u7159\u8c6c\u8169\u8089", "", "(150g)"],
        "v_c": 1,
        "iso": false,
        "vra": [[32922621542443, [["Barcode", ["CITTERIO \u7159\u8c6c\u8169\u8089 (150g)"]], ["Price", ["HKD:60.00"]], ["Product-sku", ["100045"]], ["Sellable", [true]], ["Title", ["Default Title"]]]]],
        "vrc": {}
    }, {
        "l": "VICENTEMARINO Mediterranean Sea Anchovy Fillet in Olive Oil - Small  (80g)",
        "c": "HKD",
        "u": "/products/vicentemarino-mediterranean-sea-anchovy-fillet-in-olive-oil-small-301502240",
        "p": "40.00",
        "p_min": "",
        "p_max": "",
        "p_c": "0.00",
        "p_min_c": "0.00",
        "p_max_c": "0.00",
        "d": "Keep refrigerated after opening *Photo for reference only. ",
        "t": "https://cdn.shopify.com/s/files/1/2597/8324/products/301502240-1-vicentemarino-mediterranean-sea-anchovy-fillet-in-olive-oil-small_large.jpg?v=1659525752",
        "t2": "https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/cbc20edb-7705-4835-b6c7-6f3a5ab72180",
        "f": 0,
        "s": "6675320438827::39633874550827",
        "sku": "301502240",
        "p_spl": 0,
        "id": "6675320438827",
        "skus": ["301502240", "VICENTEMARINO", "\u6a44\u6b16\u6cb9\u6d78\u5730\u4e2d\u6d77\u9bf7\u9b5a\u67f3", "-", "\u5c0f", "", "(80g)"],
        "v_c": 1,
        "iso": false,
        "vra": [[39633874550827, [["Barcode", ["VICENTEMARINO \u6a44\u6b16\u6cb9\u6d78\u5730\u4e2d\u6d77\u9bf7\u9b5a\u67f3 - \u5c0f (80g)"]], ["Price", ["HKD:40.00"]], ["Product-sku", ["301502240"]], ["Sellable", [true]], ["Title", ["Default Title"]]]]],
        "vrc": {}
    }, {
        "l": "CITYSUPER Ossetra Caviar  (10g)",
        "c": "HKD",
        "u": "/products/citysuper-ossetra-caviar-301450053",
        "p": "418.00",
        "p_min": "",
        "p_max": "",
        "p_c": "0.00",
        "p_min_c": "0.00",
        "p_max_c": "0.00",
        "d": "These eggs are obtained from the Ossetra sturgeon, one of the most-prized types of caviar. With silky texture, this CITYSUPER Ossetra Cavia has a nutty, creamy walnut taste, and a pleasing burst of ocean flavours. Serving itself alone, or in Russian Style, pairing with blinis topped with creme fraiche, and with heavily chilled vodka! \r\n Keep refrigerated *Photo for reference only. ",
        "t": "https://cdn.shopify.com/s/files/1/2597/8324/products/301450053-1-ossetra-caviar-10g_1895744c-284a-40f1-89c6-4931a55717b2_large.jpg?v=1658994540",
        "t2": "https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/c6a54e17-ed1d-4012-bce4-06e7a4a31e9a",
        "f": 0,
        "s": "4476830842923::31840815120427",
        "sku": "301450053",
        "p_spl": 0,
        "id": "4476830842923",
        "skus": ["301450053", "CITYSUPER", "Ossetra", "\u9b5a\u5b50\u91ac", "", "(10g)"],
        "v_c": 1,
        "iso": false,
        "vra": [[31840815120427, [["Barcode", ["CITYSUPER Ossetra \u9b5a\u5b50\u91ac (10g)"]], ["Price", ["HKD:418.00"]], ["Product-sku", ["301450053"]], ["Sellable", [true]], ["Title", ["Default Title"]]]]],
        "vrc": {}
    }, {
        "l": "CITYSUPER Amursky\u00ae Caviar  (10g)",
        "c": "HKD",
        "u": "/products/citysuper-amursky-caviar-301450054",
        "p": "388.00",
        "p_min": "",
        "p_max": "",
        "p_c": "0.00",
        "p_min_c": "0.00",
        "p_max_c": "0.00",
        "d": "Bringing the best gourmet from all over the world is the aim of CITYSUPER. This CITYSUPER Amursky\u00ae Caviar has a firm texture, nutty flavour with a briny finish. It is best served by itself, with a glass of Champagne, or perfect with blinis, toasts or mini potatoes. \r\n Keep refrigerated *Photo for reference only. ",
        "t": "https://cdn.shopify.com/s/files/1/2597/8324/products/301450054-1-amursky-caviar-10g_large.jpg?v=1658993743",
        "t2": "https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/19dca06a-ac94-4565-b667-34917f3a647e",
        "f": 0,
        "s": "6868676116523::40129228406827",
        "sku": "301450054",
        "p_spl": 0,
        "id": "6868676116523",
        "skus": ["301450054", "CITYSUPER", "Amursky\u00ae", "\u9b5a\u5b50\u91ac", "", "(10g)"],
        "v_c": 1,
        "iso": false,
        "vra": [[40129228406827, [["Barcode", ["CITYSUPER Amursky\u00ae \u9b5a\u5b50\u91ac (10g)"]], ["Price", ["HKD:388.00"]], ["Product-sku", ["301450054"]], ["Sellable", [true]], ["Title", ["Default Title"]]]]],
        "vrc": {}
    }, {
        "l": "LES FRERES MARCHAND Beaufort Alpage AOP Raw Milk Cheese  (150g)",
        "c": "HKD",
        "u": "/products/les-freres-marchand-alpine-beaufort-cheese-100g",
        "p": "160.50",
        "p_min": "",
        "p_max": "",
        "p_c": "0.00",
        "p_min_c": "0.00",
        "p_max_c": "0.00",
        "d": "Made from unpasteurized milk Keep refrigerated *Photo for reference only. ",
        "t": "https://cdn.shopify.com/s/files/1/2597/8324/products/301281494-1-les-freres-marchand-alpine-beaufort-cheese-100g_large.jpg?v=1686107378",
        "t2": "https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/35c580a5-3eda-431a-9d19-4994fc30e1e5",
        "f": 0,
        "s": "1229499531307::11877276549163",
        "sku": "301281494",
        "p_spl": 0,
        "id": "1229499531307",
        "skus": ["301281494", "LES", "FRERES", "MARCHAND", "\u963f\u723e\u5351\u65af\u5c71\u6ce2\u5f17\u7279\u751f\u725b\u5976\u829d\u58ebAOP", "", "(150g)"],
        "v_c": 1,
        "iso": false,
        "vra": [[11877276549163, [["Barcode", ["LES FRERES MARCHAND \u963f\u723e\u5351\u65af\u5c71\u6ce2\u5f17\u7279\u751f\u725b\u5976\u829d\u58ebAOP (150g)"]], ["Price", ["HKD:160.50"]], ["Product-sku", ["301281494"]], ["Sellable", [true]], ["Title", ["Default Title"]]]]],
        "vrc": {}
    }, {
        "l": "LAFITTE Whole IGP Duck Foie Gras with Truffle  (130g)",
        "c": "HKD",
        "u": "/products/lafitte-whole-igp-duck-foie-gras-with-truffle-130g",
        "p": "1588.00",
        "p_min": "",
        "p_max": "",
        "p_c": "0.00",
        "p_min_c": "0.00",
        "p_max_c": "0.00",
        "d": "Keep refrigerated *Photo for reference only. ",
        "t": "https://cdn.shopify.com/s/files/1/2597/8324/products/301281870-1-lafitte-duck-w-liver-w10-truffle130g_large.jpg?v=1662554199",
        "t2": "https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/46a1755f-7773-49f9-9bd5-8d5707845a48",
        "f": 0,
        "s": "1646246985771::15161798262827",
        "sku": "301281870",
        "p_spl": 0,
        "id": "1646246985771",
        "skus": ["301281870", "LAFITTE", "\u677e\u9732IGP\u9d28\u5168\u809d", "", "(130g)"],
        "v_c": 1,
        "iso": false,
        "vra": [[15161798262827, [["Barcode", ["LAFITTE \u677e\u9732IGP\u9d28\u5168\u809d (130g)"]], ["Price", ["HKD:1588.00"]], ["Product-sku", ["301281870"]], ["Sellable", [true]], ["Title", ["Default Title"]]]]],
        "vrc": {}
    }, {
        "l": "ISHIGAKI Cheese Fondue Set 12cm",
        "c": "HKD",
        "u": "/products/ishigaki-cheese-fondue-set-12cm-301475088",
        "p": "168.00",
        "p_min": "",
        "p_max": "",
        "p_c": "0.00",
        "p_min_c": "0.00",
        "p_max_c": "0.00",
        "d": " *Photo for reference only. ",
        "t": "https://cdn.shopify.com/s/files/1/2597/8324/products/301475088_large.jpg?v=1662546409",
        "t2": "https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/5b0292b2-b87d-4f42-be70-207c36e3525e",
        "f": 0,
        "s": "4862180327467::33048531927083",
        "sku": "301475088",
        "p_spl": 0,
        "id": "4862180327467",
        "skus": ["301475088", "ISHIGAKI", "\u829d\u58eb\u706b\u934b\u7d44\u5408", "12\u5398\u7c73"],
        "v_c": 1,
        "iso": false,
        "vra": [[33048531927083, [["Barcode", ["ISHIGAKI \u829d\u58eb\u706b\u934b\u7d44\u5408 12\u5398\u7c73"]], ["Price", ["HKD:168.00"]], ["Product-sku", ["301475088"]], ["Sellable", [true]], ["Title", ["Default Title"]]]]],
        "vrc": {}
    }, {
        "l": "ISHIGAKI Cheese Fondue Set 15cm",
        "c": "HKD",
        "u": "/products/ishigaki-cheese-fondue-set-15cm-301475089",
        "p": "178.00",
        "p_min": "",
        "p_max": "",
        "p_c": "0.00",
        "p_min_c": "0.00",
        "p_max_c": "0.00",
        "d": " *Photo for reference only. ",
        "t": "https://cdn.shopify.com/s/files/1/2597/8324/products/301475089_large.jpg?v=1662546410",
        "t2": "https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/edd9b633-66f9-433e-9e27-85a81c821a10",
        "f": 0,
        "s": "4862180360235::33048531959851",
        "sku": "301475089",
        "p_spl": 0,
        "id": "4862180360235",
        "skus": ["301475089", "ISHIGAKI", "\u829d\u58eb\u706b\u934b\u7d44\u5408", "15\u5398\u7c73"],
        "v_c": 1,
        "iso": false,
        "vra": [[33048531959851, [["Barcode", ["ISHIGAKI \u829d\u58eb\u706b\u934b\u7d44\u5408 15\u5398\u7c73"]], ["Price", ["HKD:178.00"]], ["Product-sku", ["301475089"]], ["Sellable", [true]], ["Title", ["Default Title"]]]]],
        "vrc": {}
    }, {
        "l": "ELLE ESSE 10% Black Truffle Sauce  (90g)",
        "c": "HKD",
        "u": "/products/elle-esse-10-black-truffle-sauce-301513866",
        "p": "128.00",
        "p_min": "",
        "p_max": "",
        "p_c": "0.00",
        "p_min_c": "0.00",
        "p_max_c": "0.00",
        "d": "Keep refrigerated after opening *Photo for reference only. ",
        "t": "https://cdn.shopify.com/s/files/1/2597/8324/files/301513866-1-elle-esse-10_-black-truffle-sauce-90g_20230809_003_03_large.jpg?v=1694745670",
        "t2": "https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/69c795e4-0022-4fb8-91c6-7886a3a5affc",
        "f": 0,
        "s": "6856834056235::40097058422827",
        "sku": "301513866",
        "p_spl": 0,
        "id": "6856834056235",
        "skus": ["301513866", "ELLE", "ESSE", "10%\u9ed1\u677e\u9732\u83cc\u91ac", "", "(90g)"],
        "v_c": 1,
        "iso": false,
        "vra": [[40097058422827, [["Barcode", ["ELLE ESSE 10%\u9ed1\u677e\u9732\u83cc\u91ac (90g)"]], ["Price", ["HKD:128.00"]], ["Product-sku", ["301513866"]], ["Sellable", [true]], ["Title", ["Default Title"]]]]],
        "vrc": {}
    }, {
        "l": "ELLE ESSE 10% Black Truffle Sauce  (180g)",
        "c": "HKD",
        "u": "/products/elle-esse-10-black-truffle-sauce-301513867",
        "p": "228.00",
        "p_min": "",
        "p_max": "",
        "p_c": "0.00",
        "p_min_c": "0.00",
        "p_max_c": "0.00",
        "d": "Keep refrigerated after opening *Photo for reference only. ",
        "t": "https://cdn.shopify.com/s/files/1/2597/8324/products/301513867-1-elle-esse-10-black-truffle-sauce_large.jpg?v=1664114630",
        "t2": "https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/2704dc4d-62df-4579-8c73-a4675b9c72b8",
        "f": 0,
        "s": "6856834089003::40097058455595",
        "sku": "301513867",
        "p_spl": 0,
        "id": "6856834089003",
        "skus": ["301513867", "ELLE", "ESSE", "10%\u9ed1\u677e\u9732\u83cc\u91ac", "", "(180g)"],
        "v_c": 1,
        "iso": false,
        "vra": [[40097058455595, [["Barcode", ["ELLE ESSE 10%\u9ed1\u677e\u9732\u83cc\u91ac (180g)"]], ["Price", ["HKD:228.00"]], ["Product-sku", ["301513867"]], ["Sellable", [true]], ["Title", ["Default Title"]]]]],
        "vrc": {}
    }, {
        "l": "ELLE ESSE 6% White Truffle Sauce  (180g)",
        "c": "HKD",
        "u": "/products/elle-esse-6-white-truffle-sauce-301513870",
        "p": "228.00",
        "p_min": "",
        "p_max": "",
        "p_c": "0.00",
        "p_min_c": "0.00",
        "p_max_c": "0.00",
        "d": "Keep refrigerated after opening *Photo for reference only. ",
        "t": "https://cdn.shopify.com/s/files/1/2597/8324/products/301513870-1-elle-esse-6-white-truffle-sauce_large.jpg?v=1664114638",
        "t2": "https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/44cf80a7-c177-4ff5-9295-13b50dafeebe",
        "f": 0,
        "s": "6856834285611::40097058586667",
        "sku": "301513870",
        "p_spl": 0,
        "id": "6856834285611",
        "skus": ["301513870", "ELLE", "ESSE", "6%\u767d\u677e\u9732\u83cc\u91ac", "", "(180g)"],
        "v_c": 1,
        "iso": false,
        "vra": [[40097058586667, [["Barcode", ["ELLE ESSE 6%\u767d\u677e\u9732\u83cc\u91ac (180g)"]], ["Price", ["HKD:228.00"]], ["Product-sku", ["301513870"]], ["Sellable", [true]], ["Title", ["Default Title"]]]]],
        "vrc": {}
    }, {
        "l": "CARNI DOCK Cuneo Raw Ham -  Boneless  (200g)",
        "c": "HKD",
        "u": "/products/carni-dock-dop-cuneo-raw-ham-boneless-301522361",
        "p": "216.00",
        "p_min": "",
        "p_max": "",
        "p_c": "0.00",
        "p_min_c": "0.00",
        "p_max_c": "0.00",
        "d": "Keep refrigerated *Photo for reference only. ",
        "t": "https://cdn.shopify.com/s/files/1/2597/8324/files/301522361_c0f9dc18-ecc9-40b5-8132-2ab133d280fc_large.jpg?v=1692949692",
        "t2": "https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/4e903557-d4ef-492a-a40d-f6c6a7925f5a",
        "f": 0,
        "s": "6950973603883::40387378184235",
        "sku": "301522361",
        "p_spl": 0,
        "id": "6950973603883",
        "skus": ["301522361", "CARNI", "DOCK", "\u610f\u5927\u5229\u98a8\u4e7e\u706b\u817f", "-", "\u7121\u9aa8", "", "(200g)"],
        "v_c": 1,
        "iso": false,
        "vra": [[40387378184235, [["Barcode", ["CARNI DOCK \u610f\u5927\u5229\u98a8\u4e7e\u706b\u817f - \u7121\u9aa8 (200g)"]], ["Price", ["HKD:216.00"]], ["Product-sku", ["301522361"]], ["Sellable", [true]], ["Title", ["Default Title"]]]]],
        "vrc": {}
    }, {
        "l": "ELLE ESSE Black Truffle Extra Virgin Olive Oil  (100mL)",
        "c": "HKD",
        "u": "/products/elle-esse-black-truffle-extra-virgin-olive-oil-100ml",
        "p": "78.00",
        "p_min": "",
        "p_max": "",
        "p_c": "0.00",
        "p_min_c": "0.00",
        "p_max_c": "0.00",
        "d": "Store in cool dry place *Photo for reference only. ",
        "t": "https://cdn.shopify.com/s/files/1/2597/8324/products/300148152-1-black-truffle-extra-virgin-olive-oil-s_large.jpg?v=1661396209",
        "t2": "https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/45cb730f-cc0d-439a-ba3a-d56bced639fa",
        "f": 0,
        "s": "1209614303275::11799443734571",
        "sku": "300148152",
        "p_spl": 0,
        "id": "1209614303275",
        "skus": ["300148152", "ELLE", "ESSE", "\u9ed1\u677e\u9732\u7279\u7d1a\u521d\u69a8\u6a44\u6b16\u6cb9", "", "(100mL)"],
        "v_c": 1,
        "iso": false,
        "vra": [[11799443734571, [["Barcode", ["ELLE ESSE \u9ed1\u677e\u9732\u7279\u7d1a\u521d\u69a8\u6a44\u6b16\u6cb9 (100mL)"]], ["Price", ["HKD:78.00"]], ["Product-sku", ["300148152"]], ["Sellable", [true]], ["Title", ["Default Title"]]]]],
        "vrc": {}
    }, {
        "l": "BOSCOVIVO White Truffle Cream Sauce  (90g)",
        "c": "HKD",
        "u": "/products/boscovivo-white-truffle-cream-sauce-90g",
        "p": "178.00",
        "p_min": "",
        "p_max": "",
        "p_c": "0.00",
        "p_min_c": "0.00",
        "p_max_c": "0.00",
        "d": "\nBOSCOVIVO was founded in Arezzo, Italy in 1982 by the couple Alfredo Landucci and Franca Bianchini.\n100% Italian truffles, harvested in the Italian regions of Tuscany, Umbria and Marche.\nPrepare from ancient Italian recipes and without adding additives or preservatives.\nCertified by BRC Food and earning various awards including,\n\nAward\u00a0 DinoVillani Academy of Italian Cuisine\nBest Quality Award - Culinary Institute of San Francisco\nBlazon of Selected Product \u2013 International Academy of Gastronomy Historical\nAward of Excellence Product - Merano Wine Festival and Culinaria\nStore in cool dry place \n*Photo for reference only. \n",
        "t": "https://cdn.shopify.com/s/files/1/2597/8324/products/301351367_1_white_truffle_cream_sauce_s_large.jpg?v=1653995496",
        "t2": "https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/aab1038b-61a1-46ee-87e4-12b990acc27f",
        "f": 0,
        "s": "1213397565483::11827267960875",
        "sku": "301351367",
        "p_spl": 0,
        "id": "1213397565483",
        "skus": ["301351367", "BOSCOVIVO", "\u767d\u677e\u9732\u83cc\u5fcc\u5ec9\u91ac", "", "(90g)"],
        "v_c": 1,
        "iso": false,
        "vra": [[11827267960875, [["Barcode", ["BOSCOVIVO \u767d\u677e\u9732\u83cc\u5fcc\u5ec9\u91ac (90g)"]], ["Price", ["HKD:178.00"]], ["Product-sku", ["301351367"]], ["Sellable", [true]], ["Title", ["Default Title"]]]]],
        "vrc": {}
    }, {
        "l": "BOSCOVIVO Black Truffle Sauce 5%  (90g)",
        "c": "HKD",
        "u": "/products/boscovivo-5-black-truffle-sauce-90g",
        "p": "138.00",
        "p_min": "",
        "p_max": "",
        "p_c": "0.00",
        "p_min_c": "0.00",
        "p_max_c": "0.00",
        "d": "\nBOSCOVIVO was founded in Arezzo, Italy in 1982 by the couple Alfredo Landucci and Franca Bianchini.\n100% Italian truffles, harvested in the Italian regions of Tuscany, Umbria and Marche.\nPrepare from ancient Italian recipes and without adding additives or preservatives.\nCertified by BRC Food and earning various awards including,\n\nAward\u00a0 DinoVillani Academy of Italian Cuisine\nBest Quality Award - Culinary Institute of San Francisco\nBlazon of Selected Product \u2013 International Academy of Gastronomy Historical\nAward of Excellence Product - Merano Wine Festival and Culinaria\nKeep refrigerated after opening \n*Photo for reference only. \n",
        "t": "https://cdn.shopify.com/s/files/1/2597/8324/products/301351365_1_5_black_truffle_sauce_s_large.jpg?v=1653995473",
        "t2": "https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/195257c8-072b-432e-9a3b-221a665d9b22",
        "f": 0,
        "s": "1213397631019::11827268026411",
        "sku": "301351365",
        "p_spl": 0,
        "id": "1213397631019",
        "skus": ["301351365", "BOSCOVIVO", "5%\u9ed1\u677e\u9732\u83cc\u91ac", "", "(90g)"],
        "v_c": 1,
        "iso": false,
        "vra": [[11827268026411, [["Barcode", ["BOSCOVIVO 5%\u9ed1\u677e\u9732\u83cc\u91ac (90g)"]], ["Price", ["HKD:138.00"]], ["Product-sku", ["301351365"]], ["Sellable", [true]], ["Title", ["Default Title"]]]]],
        "vrc": {}
    }, {
        "l": "LA BELLE-ILOISE Lobster Bisque  (400g)",
        "c": "HKD",
        "u": "/products/la-belle-iloise-lobster-bisque-400g",
        "p": "83.00",
        "p_min": "",
        "p_max": "",
        "p_c": "0.00",
        "p_min_c": "0.00",
        "p_max_c": "0.00",
        "d": "Located just off the fishing port of Quiberon, across from Belle-\u00eele-en-Mer, the brand has been producing and distributing tinned fish for more than 85 years. The unique flavour of lobster is fully expressed in this bisque, which is made with an authentic, refined recipe. It has a creamy, velvety texture, rich flavour, perfect to be enjoyed as a soup, or used as the base for sauces. \u00a0 Store in cool dry place *Photo for reference only. ",
        "t": "https://cdn.shopify.com/s/files/1/2597/8324/products/301204889-1_large.jpg?v=1662553500",
        "t2": "https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/9874b6b6-a31f-49a5-9905-cf62aff165ea",
        "f": 0,
        "s": "1290716020779::12326975995947",
        "sku": "301204889",
        "p_spl": 0,
        "id": "1290716020779",
        "skus": ["301204889", "LA", "BELLE-ILOISE", "\u9f8d\u8766\u6fc3\u6e6f", "", "(400g)"],
        "v_c": 1,
        "iso": false,
        "vra": [[12326975995947, [["Barcode", ["LA BELLE-ILOISE \u9f8d\u8766\u6fc3\u6e6f (400g)"]], ["Price", ["HKD:83.00"]], ["Product-sku", ["301204889"]], ["Sellable", [true]], ["Title", ["Default Title"]]]]],
        "vrc": {}
    }, {
        "l": "ELLE ESSE Black Truffle Extra Virgin Olive Oil  (250mL)",
        "c": "HKD",
        "u": "/products/elle-esse-black-truffle-extra-virgin-olive-oil-250ml",
        "p": "148.00",
        "p_min": "",
        "p_max": "",
        "p_c": "0.00",
        "p_min_c": "0.00",
        "p_max_c": "0.00",
        "d": "Store in cool dry place *Photo for reference only. ",
        "t": "https://cdn.shopify.com/s/files/1/2597/8324/products/300241041-1-black-truffle-extra-virgin-olive-oil-s_large.jpg?v=1661396209",
        "t2": "https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/da2dd319-5095-4436-bb99-1a9b26fdeea4",
        "f": 0,
        "s": "1290718674987::12326983761963",
        "sku": "300241041",
        "p_spl": 0,
        "id": "1290718674987",
        "skus": ["300241041", "ELLE", "ESSE", "\u9ed1\u677e\u9732\u7279\u7d1a\u521d\u69a8\u6a44\u6b16\u6cb9", "", "(250mL)"],
        "v_c": 1,
        "iso": false,
        "vra": [[12326983761963, [["Barcode", ["ELLE ESSE \u9ed1\u677e\u9732\u7279\u7d1a\u521d\u69a8\u6a44\u6b16\u6cb9 (250mL)"]], ["Price", ["HKD:148.00"]], ["Product-sku", ["300241041"]], ["Sellable", [true]], ["Title", ["Default Title"]]]]],
        "vrc": {}
    }, {
        "l": "ELLE ESSE White Truffle Extra Virgin Olive Oil  (250mL)",
        "c": "HKD",
        "u": "/products/elle-esse-white-truffle-extra-virgin-olive-oil-250ml",
        "p": "168.00",
        "p_min": "",
        "p_max": "",
        "p_c": "0.00",
        "p_min_c": "0.00",
        "p_max_c": "0.00",
        "d": "Founded in 1948 in a small village in Italy, this family-owned company is made up of professionalism and seriousness, respecting for traditions and ongoing research for the innovation. This wonderful Extra Virgin Olive Oil has a pleasant white truffle aroma, is perfect to sprinkle over pizzas, pasta, risotto, meat, scramble eggs, Bruschetta, taking the flavours of the dishes to next level by the distinctive smell and flavour of White Truffle. \r\n\u00a0 Store in cool dry place *Photo for reference only. ",
        "t": "https://cdn.shopify.com/s/files/1/2597/8324/products/300241054-1-white-truffle-extra-virgin-olive-oil-s_large.jpg?v=1661396209",
        "t2": "https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/9eb56339-6d83-4906-b0b0-18a6e77e6756",
        "f": 0,
        "s": "1290718707755::12326983794731",
        "sku": "300241054",
        "p_spl": 0,
        "id": "1290718707755",
        "skus": ["300241054", "ELLE", "ESSE", "\u767d\u677e\u9732\u7279\u7d1a\u521d\u69a8\u6a44\u6b16\u6cb9", "", "(250mL)"],
        "v_c": 1,
        "iso": false,
        "vra": [[12326983794731, [["Barcode", ["ELLE ESSE \u767d\u677e\u9732\u7279\u7d1a\u521d\u69a8\u6a44\u6b16\u6cb9 (250mL)"]], ["Price", ["HKD:168.00"]], ["Product-sku", ["300241054"]], ["Sellable", [true]], ["Title", ["Default Title"]]]]],
        "vrc": {}
    }, {
        "l": "TARTUFLANGHE Gu\u00e9rande Salt with White Truffle  (30g)",
        "c": "HKD",
        "u": "/products/tartuflanghe-salt-from-gu-rande-with-white-truffle-30g",
        "p": "126.00",
        "p_min": "",
        "p_max": "",
        "p_c": "0.00",
        "p_min_c": "0.00",
        "p_max_c": "0.00",
        "d": "Store in cool dry place *Photo for reference only. ",
        "t": "https://cdn.shopify.com/s/files/1/2597/8324/products/301077099-1-salt-from-guerande-with-white-truffle_large.jpg?v=1659521668",
        "t2": "https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/71c202ac-8a3d-4d79-897d-52cdda224605",
        "f": 0,
        "s": "1290736533547::12327038812203",
        "sku": "301077099",
        "p_spl": 0,
        "id": "1290736533547",
        "skus": ["301077099", "TARTUFLANGHE", "\u767d\u677e\u9732\u83cc\u9e7d", "", "(30g)"],
        "v_c": 1,
        "iso": false,
        "vra": [[12327038812203, [["Barcode", ["TARTUFLANGHE \u767d\u677e\u9732\u83cc\u9e7d (30g)"]], ["Price", ["HKD:126.00"]], ["Product-sku", ["301077099"]], ["Sellable", [true]], ["Title", ["Default Title"]]]]],
        "vrc": {}
    }],
    "total_results": 136,
    "term": "a",
    "p": 6,
    "total_p": 7,
    "alternatives": [],
    "results_for": null,
    "isp_quick_view_mode": 1,
    "auto_facets": false,
    "related_results": false
});
```

# Collecting the data with Python code

After generating the JSON data, we could use Python code to collect the data and save it to a CSV file.

## Environment setup

We will be using Python 3.11 for this project. We will also be using the `requests` library to send web requests and the `pandas` library to save the data to a CSV file.

Please install a Python 3.11 environment and install the `requests` and `pandas` libraries. You may use Anaconda to create a Python 3.11 environment and install the libraries.

We would use Jupiter Notebook to write the code. Please install Jupiter Notebook and launch it.

## Collecting the data

In order to collect the data, we need to use the `requests` library to send a web request to the above URL and then parse the JSON response with `json` library.

```python
import requests
import json

r = requests.get('https://api.fastsimon.com/full_text_search?q=1&page_num=3&UUID=a576ef0e-353e-426c-8673-dbefcd7987b4')
data = json.loads(r.text.lstrip('ispSearchResult(').rstrip(');'))

data
```

It will generate the following output.

```python
{'uuid': 'a576ef0e-353e-426c-8673-dbefcd7987b4',
 'items': [{'l': 'KOLIOS Authentic Greek Yogurt - 10% Fat  (1kg)',
   'c': 'HKD',
   'u': '/products/kolios-authentic-greek-yogurt-10-fat-1kg',
   'p': '99.00',
   'p_min': '',
   'p_max': '',
   'p_c': '0.00',
   'p_min_c': '0.00',
   'p_max_c': '0.00',
   'd': 'Founded in 1948, the KOLIOS family has been producing its products according to well-kept recipes for many generations. Nowadays, it is considered as one of the leading companies in Greek quality cheese and yogurt production. Made from cow’s milk, this yogurt has been repeatedly awarded with gold medals for its excellent quality, has a typical thick texture and the natural, gentle and creamy taste. Perfect with breakfast cereals, or to create amazing salad dressings. \xa0 Keep refrigerated *Photo for reference only. ',
   't': 'https://cdn.shopify.com/s/files/1/2597/8324/products/301322364-1-authentic-greek-yogurt-10-fat-s_large.jpg?v=1662552499',
   't2': 'https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/f50fc661-a698-48ba-8347-e92d3920d1c9',
   'f': 0,
   's': '1382480904235::32934741671979',
   'sku': '301322364',
   'p_spl': 0,
   'id': '1382480904235',
   'skus': ['301322364', 'KOLIOS', '希臘乳酪', '-', '10%脂肪', '', '(1kg)'],
   'v_c': 1,
   'iso': False,
   'vra': [[32934741671979,
     [['Barcode', ['KOLIOS 希臘乳酪 - 10%脂肪 (1kg)']],
      ['Price', ['HKD:99.00']],
      ['Product-sku', ['301322364']],
      ['Sellable', [True]],
      ['Title', ['Default Title']]]]],
   'vrc': {}},
  {'l': "O'LAIT Full Cream Milk  (1L)",
   'c': 'HKD',
   'u': '/products/o-lait-full-cream-milk-1l',
   'p': '37.00',
   'p_min': '',
   'p_max': '',
   'p_c': '0.00',
   'p_min_c': '0.00',
   'p_max_c': '0.00',
   'd': "From an Australian family-owned dairy company, O'LAIT Full Cream Milk is 100% fresh milk comes from grass fed Australian cows, uses the latest and special systems to ensure that the milk has a great fresh taste and smooth creamy texture. Ideal to enjoy it alone, or used it in making coffee, smoothies, or desserts, it is versatile! \r\nRecommend to consume within 5 days Keep refrigerated *Photo for reference only. ",
   't': 'https://cdn.shopify.com/s/files/1/2597/8324/products/301323427-1_large.jpg?v=1663656894',
   't2': 'https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/52539a82-b355-4c2d-a0d6-aae145b286b1',
   'f': 0,
   's': '1206460678187::32934741737515',
   'sku': '301323427',
   'p_spl': 0,
   'id': '1206460678187',
   'skus': ['301323427', "O'LAIT", '全脂奶', '', '(1L)'],
   'v_c': 1,
   'iso': False,
   'vra': [[32934741737515,
     [['Barcode', ["O'LAIT 全脂奶 (1L)"]],
      ['Price', ['HKD:37.00']],
      ['Product-sku', ['301323427']],
      ['Sellable', [True]],
      ['Title', ['Default Title']]]]],
   'vrc': {}},
  {'l': 'KOUKAKIS Greek Yoghurt 10% Fat  (1kg)',
   'c': 'HKD',
   'u': '/products/koukakis-greek-yoghurt-10-fat-1kg',
   'p': '115.00',
   'p_min': '',
   'p_max': '',
   'p_c': '0.00',
   'p_min_c': '0.00',
   'p_max_c': '0.00',
   'd': 'Founded in 1977, KOUKAKIS, a family-run company, has been using 100% fresh, Greek milk to create its authentic, traditional, top-quality dairy products. This yoghurt is made from the pasteurized cow’s milk produced in the brand’s own farm, with traditional, rich flavour, and smooth and velvety texture. It is perfect to be the healthy yet delicious breakfast, snack, or used in making dressings, sauces. \xa0 Keep refrigerated *Photo for reference only. ',
   't': 'https://cdn.shopify.com/s/files/1/2597/8324/products/301382545-1-greek-yoghurt-10-fat-s_large.jpg?v=1662552739',
   't2': 'https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/f5415d06-840e-4620-ad9b-cf306674278d',
   'f': 0,
   's': '1382490046507::12976501620779',
   'sku': '301382545',
   'p_spl': 0,
   'id': '1382490046507',
   'skus': ['301382545', 'KOUKAKIS', '希臘乳酪10%', '', '(1kg)'],
   'v_c': 1,
   'iso': False,
   'vra': [[12976501620779,
     [['Barcode', ['KOUKAKIS 希臘乳酪10% (1kg)']],
      ['Price', ['HKD:115.00']],
      ['Product-sku', ['301382545']],
      ['Sellable', [True]],
      ['Title', ['Default Title']]]]],
   'vrc': {}},
  {'l': 'CONTREX Natural Mineral Water  (1.5L)',
   'c': 'HKD',
   'u': '/products/contrex-natural-mineral-water-1-5l',
   'p': '24.00',
   'p_min': '',
   'p_max': '',
   'p_c': '0.00',
   'p_min_c': '0.00',
   'p_max_c': '0.00',
   'd': 'CONTREX is a deliciously pure natural mineral water, the source is located in Contrexéville, nestled deep in the Vosges Mountains of France, were first discovered in 1760 and then quickly well-loved among the public for its excellence. This 1.5L bottle is perfect for keeping a refreshing reserve in the fridge at home or the office. \r\n\xa0 Store in cool dry place *Photo for reference only. ',
   't': 'https://cdn.shopify.com/s/files/1/2597/8324/products/176100023-1-contrex-mineral-water-15_large.jpg?v=1658995793',
   't2': 'https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/fbb64a8d-08cc-4388-9842-392d1bc9f6a2',
   'f': 0,
   's': '1209619742763::11799456481323',
   'sku': '176100023',
   'p_spl': 0,
   'id': '1209619742763',
   'skus': ['176100023', 'CONTREX', '天然礦泉水', '', '(1.5L)'],
   'v_c': 1,
   'iso': False,
   'vra': [[11799456481323,
     [['Barcode', ['CONTREX 天然礦泉水 (1.5L)']],
      ['Price', ['HKD:24.00']],
      ['Product-sku', ['176100023']],
      ['Sellable', [True]],
      ['Title', ['Default Title']]]]],
   'vrc': {}},
  {'l': "DAIONI Organic Whole Cow's Milk  (1L)",
   'c': 'HKD',
   'u': '/products/daioni-organic-british-cow-s-milk-whole-301293605',
   'p': '36.00',
   'p_min': '',
   'p_max': '',
   'p_c': '0.00',
   'p_min_c': '0.00',
   'p_max_c': '0.00',
   'd': 'Based in the beautiful countryside of Wales, the United Kingdom, the brand is a family-owned producer of high-quality organic dairy products which are natural, traceable and nutritional. This is one of the hero products made from 100% certified British organic fresh milk, kills bacteria by UHT sterilized, keeps it fresher for longer, it is rich and creamy! Keep refrigerated after opening *Photo for reference only. ',
   't': 'https://cdn.shopify.com/s/files/1/2597/8324/products/301293605-1-daioni-organic-whole-milk-uht-1-lt_date-20230417-CS-fresh-_01_large.jpg?v=1681906150',
   't2': 'https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/9ebfdfdf-2c39-44f7-8dbf-9093a402e721',
   'f': 0,
   's': '4429356793899::31663282847787',
   'sku': '301293605',
   'p_spl': 0,
   'id': '4429356793899',
   'skus': ['301293605', 'DAIONI', '有機全脂牛奶', '', '(1L)'],
   'v_c': 1,
   'iso': False,
   'vra': [[31663282847787,
     [['Barcode', ['DAIONI 有機全脂牛奶 (1L)']],
      ['Price', ['HKD:36.00']],
      ['Product-sku', ['301293605']],
      ['Sellable', [True]],
      ['Title', ['Default Title']]]]],
   'vrc': {}},
  {'l': 'KOUKAKIS Greek Yoghurt 0%  (1kg)',
   'c': 'HKD',
   'u': '/products/koukakis-greek-yoghurt-0-1kg',
   'p': '115.00',
   'p_min': '',
   'p_max': '',
   'p_c': '0.00',
   'p_min_c': '0.00',
   'p_max_c': '0.00',
   'd': 'Founded in 1977, KOUKAKIS, a family-run company, has been using 100% fresh, Greek milk to create its authentic, traditional, top-quality dairy products. This yoghurt is made from the skimmed pasteurized cow’s milk produced in the brand’s own farm, with full taste and velvety texture, and also with 0% fat! Ideal to be enjoy as a healthy snack, paired with fruit, nuts as a tasty breakfast, or can be used in making dressings, sauces. \xa0 Keep refrigerated *Photo for reference only. ',
   't': 'https://cdn.shopify.com/s/files/1/2597/8324/products/301382543-1-greek-yoghurt-0-s_large.jpg?v=1662552732',
   't2': 'https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/55ea4cdb-f033-40ff-9bee-f82ff30dc864',
   'f': 0,
   's': '1382490177579::32934743146539',
   'sku': '301382543',
   'p_spl': 0,
   'id': '1382490177579',
   'skus': ['301382543', 'KOUKAKIS', '希臘乳酪0%', '', '(1kg)'],
   'v_c': 1,
   'iso': False,
   'vra': [[32934743146539,
     [['Barcode', ['KOUKAKIS 希臘乳酪0% (1kg)']],
      ['Price', ['HKD:115.00']],
      ['Product-sku', ['301382543']],
      ['Sellable', [True]],
      ['Title', ['Default Title']]]]],
   'vrc': {}},
  {'l': "DAIONI Organic Semi-Skimmed Cow's Milk  (1L)",
   'c': 'HKD',
   'u': '/products/daioni-organic-british-cow-s-milk-semi-skimmed-301293606',
   'p': '36.00',
   'p_min': '',
   'p_max': '',
   'p_c': '0.00',
   'p_min_c': '0.00',
   'p_max_c': '0.00',
   'd': 'Offering a range of award-winning natural, delicious and nutritious organic beverages, the brand is based in the lush and green countryside of Wales, the United Kingdom. This Semi-Skimmed Milk is made from 100% certified British organic fresh milk, UHT sterilized makes it fresher for longer, but still retaining its quality, has the rich and creamy taste. Keep refrigerated after opening *Photo for reference only. ',
   't': 'https://cdn.shopify.com/s/files/1/2597/8324/products/301293606-1-daioni-semi-skimmed-milk-uht-1-lt_date-20230417-CS-fresh-_01_large.jpg?v=1681906150',
   't2': 'https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/1efe8b1e-4bf3-4b8f-9b95-a7a4a45476cf',
   'f': 0,
   's': '4429356728363::31663282815019',
   'sku': '301293606',
   'p_spl': 0,
   'id': '4429356728363',
   'skus': ['301293606', 'DAIONI', '有機半脫脂牛奶', '', '(1L)'],
   'v_c': 1,
   'iso': False,
   'vra': [[31663282815019,
     [['Barcode', ['DAIONI 有機半脫脂牛奶 (1L)']],
      ['Price', ['HKD:36.00']],
      ['Product-sku', ['301293606']],
      ['Sellable', [True]],
      ['Title', ['Default Title']]]]],
   'vrc': {}},
  {'l': 'BORING OAT MILK Barista Oat Milk - No Added Sugar  (1L)',
   'c': 'HKD',
   'u': '/products/boring-oat-milk-barista-oat-milk-no-added-sugar-301520814',
   'p': '52.00',
   'p_min': '',
   'p_max': '',
   'p_c': '0.00',
   'p_min_c': '0.00',
   'p_max_c': '0.00',
   'd': 'Keep refrigerated after opening *Photo for reference only. ',
   't': 'https://cdn.shopify.com/s/files/1/2597/8324/files/301520814-1-boring-oat-milk-_barista_-1l_20230809_001_01_large.jpg?v=1696772220',
   't2': 'https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/ae56a335-3f34-48b4-8036-33bb421f98b1',
   'f': 0,
   's': '6938847150123::40352903299115',
   'sku': '301520814',
   'p_spl': 0,
   'id': '6938847150123',
   'skus': ['301520814',
    'BORING',
    'OAT',
    'MILK',
    '專業沖調用燕麥奶',
    '-',
    '無添加糖',
    '',
    '(1L)'],
   'v_c': 1,
   'iso': False,
   'vra': [[40352903299115,
     [['Barcode', ['BORING OAT MILK 專業沖調用燕麥奶 - 無添加糖 (1L)']],
      ['Price', ['HKD:52.00']],
      ['Product-sku', ['301520814']],
      ['Sellable', [True]],
      ['Title', ['Default Title']]]]],
   'vrc': {}},
  {'l': 'WHISTLER Glacial Spring Water  (1.5L)',
   'c': 'HKD',
   'u': '/products/whistler-glacial-spring-water-301158671',
   'p': '20.00',
   'p_min': '',
   'p_max': '',
   'p_c': '0.00',
   'p_min_c': '0.00',
   'p_max_c': '0.00',
   'd': 'The brand was founded in 1991 on the West Coast of British Columbia, Canada, has provided local and global customers with the most pristine glacial water available. Its source is located at the base of a pristine glacial outflow just north of Whistler, this 100% pure glacial water has naturally neutral pH, is perfect for all body types. \r\n\xa0 \r\nStore in cool dry place *Photo for reference only. ',
   't': 'https://cdn.shopify.com/s/files/1/2597/8324/products/301158671-1-whistler-glacial-spring-water-1-5l_large.jpg?v=1659526768',
   't2': 'https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/427485b5-4038-4f86-b076-fb0399b96ab3',
   'f': 0,
   's': '4356120346667::31412186153003',
   'sku': '301158671',
   'p_spl': 0,
   'id': '4356120346667',
   'skus': ['301158671', 'WHISTLER', '冰川泉水', '', '(1.5L)'],
   'v_c': 1,
   'iso': False,
   'vra': [[31412186153003,
     [['Barcode', ['WHISTLER 冰川泉水 (1.5L)']],
      ['Price', ['HKD:20.00']],
      ['Product-sku', ['301158671']],
      ['Sellable', [True]],
      ['Title', ['Default Title']]]]],
   'vrc': {}},
  {'l': 'WILDALP Baby Austria Natural Alpine Spring Water  (1.5L)',
   'c': 'HKD',
   'u': '/products/wildalp-baby-austria-natural-alpine-spring-water-1-5l',
   'p': '34.00',
   'p_min': '',
   'p_max': '',
   'p_c': '0.00',
   'p_min_c': '0.00',
   'p_max_c': '0.00',
   'd': 'Store in cool dry place *Photo for reference only. ',
   't': 'https://cdn.shopify.com/s/files/1/2597/8324/products/300227852-1-wildalp-natural-spring-water-baby-1.5l-web_large.jpg?v=1659526895',
   't2': 'https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/6405f63f-45df-49df-b2a8-07f451b54d93',
   'f': 0,
   's': '1209620627499::11799457890347',
   'sku': '300227852',
   'p_spl': 0,
   'id': '1209620627499',
   'skus': ['300227852', 'WILDALP', '嬰兒活泉水', '', '(1.5L)'],
   'v_c': 1,
   'iso': False,
   'vra': [[11799457890347,
     [['Barcode', ['WILDALP 嬰兒活泉水 (1.5L)']],
      ['Price', ['HKD:34.00']],
      ['Product-sku', ['300227852']],
      ['Sellable', [True]],
      ['Title', ['Default Title']]]]],
   'vrc': {}},
  {'l': 'CITYSUPER Thai New Harvest Hom Mali Rice  (1kg)',
   'c': 'HKD',
   'u': '/products/citysuper-thai-new-harvest-hom-mali-rice-1kg',
   'p': '55.00',
   'p_min': '',
   'p_max': '',
   'p_c': '0.00',
   'p_min_c': '0.00',
   'p_max_c': '0.00',
   'd': ' Store in cool dry place *Photo for reference only. ',
   't': 'https://cdn.shopify.com/s/files/1/2597/8324/products/301066607-1-thai-new-harvest-hom-mali-rice-s_large.jpg?v=1658994751',
   't2': 'https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/6b81442a-47f2-4f6d-83a2-c6dd9db4098c',
   'f': 0,
   's': '1209622724651::11799460544555',
   'sku': '301066607',
   'p_spl': 0,
   'id': '1209622724651',
   'skus': ['301066607', 'CITYSUPER', '泰國新花茉莉香米', '', '(1kg)'],
   'v_c': 1,
   'iso': False,
   'vra': [[11799460544555,
     [['Barcode', ['CITYSUPER 泰國新花茉莉香米 (1kg)']],
      ['Price', ['HKD:55.00']],
      ['Product-sku', ['301066607']],
      ['Sellable', [True]],
      ['Title', ['Default Title']]]]],
   'vrc': {}},
  {'l': 'YIN CHUAN Organic Rice  (1.5kg)',
   'c': 'HKD',
   'u': '/products/yin-chuan-organic-rice-1-5kg',
   'p': '108.00',
   'p_min': '',
   'p_max': '',
   'p_c': '0.00',
   'p_min_c': '0.00',
   'p_max_c': '0.00',
   'd': 'Keep refrigerated after opening *Photo for reference only. ',
   't': 'https://cdn.shopify.com/s/files/1/2597/8324/products/301019264-1-yin-chuan-organic-rice-1.5kg-red_large.jpg?v=1657190497',
   't2': 'https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/873b66d2-e08e-4174-8489-b5c7e2be149a',
   'f': 0,
   's': '1212808396843::11822946254891',
   'sku': '301019264',
   'p_spl': 0,
   'id': '1212808396843',
   'skus': ['301019264', '銀川', '有機白米', '', '(1.5kg)'],
   'v_c': 1,
   'iso': False,
   'vra': [[11822946254891,
     [['Barcode', ['銀川 有機白米 (1.5kg)']],
      ['Price', ['HKD:108.00']],
      ['Product-sku', ['301019264']],
      ['Sellable', [True]],
      ['Title', ['Default Title']]]]],
   'vrc': {}},
  {'l': 'HARVEY FRESH Fresh Milk  (1L)',
   'c': 'HKD',
   'u': '/products/harvey-fresh-fresh-milk-301268676',
   'p': '44.00',
   'p_min': '',
   'p_max': '',
   'p_c': '0.00',
   'p_min_c': '0.00',
   'p_max_c': '0.00',
   'd': 'Found in the fields of the beautiful South West Region of Harvey in Western Australia since 1986, the brand uses a mix of traditional and modern methods, and work with nature to produce the most tasty, fresh and quality dairy products. This Fresh Milk is rich and creamy, perfect to enjoy every day! Keep refrigerated *Photo for reference only. ',
   't': 'https://cdn.shopify.com/s/files/1/2597/8324/products/301268676-1-harvey-fresh-fresh-milk-1l_large.jpg?v=1661944410',
   't2': 'https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/9546a438-1621-4a85-aecc-5a0651f46ce0',
   'f': 0,
   's': '4429383827499::31663371780139',
   'sku': '301268676',
   'p_spl': 0,
   'id': '4429383827499',
   'skus': ['301268676', 'HARVEY', 'FRESH', '鮮奶', '', '(1L)'],
   'v_c': 1,
   'iso': False,
   'vra': [[31663371780139,
     [['Barcode', ['HARVEY FRESH 鮮奶 (1L)']],
      ['Price', ['HKD:44.00']],
      ['Product-sku', ['301268676']],
      ['Sellable', [True]],
      ['Title', ['Default Title']]]]],
   'vrc': {}},
  {'l': 'VALLEY PRIDE Organic Homogenized Milk (3.25% Milk Fat)  (1L)',
   'c': 'HKD',
   'u': '/products/valley-pride-organic-homogenized-milk-3-25-milk-fat-1l',
   'p': '72.00',
   'p_min': '',
   'p_max': '',
   'p_c': '0.00',
   'p_min_c': '0.00',
   'p_max_c': '0.00',
   'd': 'Keep refrigerated *Photo for reference only. ',
   't': 'https://cdn.shopify.com/s/files/1/2597/8324/products/301022424-1-valley-pride-organic-homogenized-milk-1l-s_large.jpg?v=1659525515',
   't2': 'https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/753e6812-bf86-4806-90ff-e923dc65cfea',
   'f': 0,
   's': '1538971598891::32934737936427',
   'sku': '301022424',
   'p_spl': 0,
   'id': '1538971598891',
   'skus': ['301022424', 'VALLEY', 'PRIDE', '有機鮮奶', '', '(1L)'],
   'v_c': 1,
   'iso': False,
   'vra': [[32934737936427,
     [['Barcode', ['VALLEY PRIDE 有機鮮奶 (1L)']],
      ['Price', ['HKD:72.00']],
      ['Product-sku', ['301022424']],
      ['Sellable', [True]],
      ['Title', ['Default Title']]]]],
   'vrc': {}},
  {'l': 'VITTEL Natural Mineral Water  (1.5L)',
   'c': 'HKD',
   'u': '/products/vittel-natural-mineral-water-176100027',
   'p': '17.00',
   'p_min': '',
   'p_max': '',
   'p_c': '0.00',
   'p_min_c': '0.00',
   'p_max_c': '0.00',
   'd': '1. Enjoy 20% discount off purchases of 6 or more bottles in a single transaction. \r\n2. This offer cannot be used in conjunction with discounts of super e-gold card or other promotional offers. \r\n3. Member loyalty points shall be applied according to the membership programme. Store in cool dry place *Photo for reference only. Store in cool dry place *Photo for reference only. ',
   't': 'https://cdn.shopify.com/s/files/1/2597/8324/products/176100027_1_large.jpg?v=1659526019',
   't2': 'https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/894233a5-6357-412e-b9f0-76950826f93c',
   'f': 0,
   's': '4292790222891::30926940274731',
   'sku': '176100027',
   'p_spl': 0,
   'id': '4292790222891',
   'skus': ['176100027', 'VITTEL', '天然礦泉水', '', '(1.5L)'],
   'v_c': 1,
   'iso': False,
   'vra': [[30926940274731,
     [['Barcode', ['VITTEL 天然礦泉水 (1.5L)']],
      ['Price', ['HKD:17.00']],
      ['Product-sku', ['176100027']],
      ['Sellable', [True]],
      ['Title', ['Default Title']]]]],
   'vrc': {}},
  {'l': 'EVIAN Natural Mineral Water  (1L)',
   'c': 'HKD',
   'u': '/products/evian-natural-mineral-water-1l',
   'p': '16.00',
   'p_min': '',
   'p_max': '',
   'p_c': '0.00',
   'p_min_c': '0.00',
   'p_max_c': '0.00',
   'd': 'EVIAN Natural Mineral Water is uniquely sourced spring water that has always refreshing and naturally hydrating, with nothing added for taste or enhanced with extras. The water filters through enriching glaciers and rocks for 15 years before bottling. This 1L size is ideal for those who need to rehydrate frequently, taste the purity of the French Alps in every sip. \r\n\xa0 Store in cool dry place *Photo for reference only. ',
   't': 'https://cdn.shopify.com/s/files/1/2597/8324/products/evian-mineral-water-1_large.jpg?v=1661396553',
   't2': 'https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/2f2ec153-7d9d-462a-9025-e8fe008c3286',
   'f': 0,
   's': '1209620103211::11799456841771',
   'sku': '176100104',
   'p_spl': 0,
   'id': '1209620103211',
   'skus': ['176100104', '依雲', '天然礦泉水', '', '(1L)'],
   'v_c': 1,
   'iso': False,
   'vra': [[11799456841771,
     [['Barcode', ['依雲 天然礦泉水 (1L)']],
      ['Price', ['HKD:16.00']],
      ['Product-sku', ['176100104']],
      ['Sellable', [True]],
      ['Title', ['Default Title']]]]],
   'vrc': {}},
  {'l': 'LA POTAGERE Tomato Gazpacho  (1L)',
   'c': 'HKD',
   'u': '/products/la-potagere-tomato-gazpacho-301324732',
   'p': '41.00',
   'p_min': '',
   'p_max': '',
   'p_c': '0.00',
   'p_min_c': '0.00',
   'p_max_c': '0.00',
   'd': 'Keep refrigerated after opening *Photo for reference only. ',
   't': 'https://cdn.shopify.com/s/files/1/2597/8324/files/301324732-1-la-potagere-tomato-gaspacho-1l_20230701_001_01_large.jpg?v=1692244710',
   't2': 'https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/1957258c-6780-4918-ba2b-270593fafc82',
   'f': 0,
   's': '4405251407915::31569230430251',
   'sku': '301324732',
   'p_spl': 0,
   'id': '4405251407915',
   'skus': ['301324732', 'LA', 'POTAGERE', '西班牙式番茄凍湯', '', '(1L)'],
   'v_c': 1,
   'iso': False,
   'vra': [[31569230430251,
     [['Barcode', ['LA POTAGERE 西班牙式番茄凍湯 (1L)']],
      ['Price', ['HKD:41.00']],
      ['Product-sku', ['301324732']],
      ['Sellable', [True]],
      ['Title', ['Default Title']]]]],
   'vrc': {}},
  {'l': 'SIU IBIS Organic Jasmine Rice  (1kg)',
   'c': 'HKD',
   'u': '/products/siu-ibis-organic-jasmine-rice-301453106',
   'p': '55.00',
   'p_min': '',
   'p_max': '',
   'p_c': '0.00',
   'p_min_c': '0.00',
   'p_max_c': '0.00',
   'd': 'Store in cool dry place *Photo for reference only. ',
   't': 'https://cdn.shopify.com/s/files/1/2597/8324/products/301453106-1-siuxibis-organic-jasmine-rice-1kg_large.jpg?v=1652328084',
   't2': 'https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/d1e60bb3-e94d-467f-9bfd-3cadcab14acb',
   'f': 0,
   's': '4489529098283::31884165546027',
   'sku': '301453106',
   'p_spl': 0,
   'id': '4489529098283',
   'skus': ['301453106', 'SIU', 'IBIS', '生態保育有機白米', '', '(1kg)'],
   'v_c': 1,
   'iso': False,
   'vra': [[31884165546027,
     [['Barcode', ['SIU IBIS 生態保育有機白米 (1kg)']],
      ['Price', ['HKD:55.00']],
      ['Product-sku', ['301453106']],
      ['Sellable', [True]],
      ['Title', ['Default Title']]]]],
   'vrc': {}},
  {'l': 'DOVES FARM Freee Gluten Free Plain White Flour Blend  (1kg)',
   'c': 'HKD',
   'u': '/products/doves-farm-gluten-free-plain-white-flour-blend-1kg',
   'p': '43.00',
   'p_min': '',
   'p_max': '',
   'p_c': '0.00',
   'p_min_c': '0.00',
   'p_max_c': '0.00',
   'd': 'From the best-selling range of gluten free baking products from the well-known UK brand founded in 1978, giving the great results every time and have been extensively recognised. This is a special flour blend milled from naturally gluten free ingredients, it is the great alternative to everyday wheat flour. For traditional recipes, recommend to add a little extra liquid. \r\n\xa0 Store in cool dry place *Photo for reference only. ',
   't': 'https://cdn.shopify.com/s/files/1/2597/8324/products/300119399-1-gluten-free-plain-white-flour-blend-s_large.jpg?v=1661394930',
   't2': 'https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/8e9c3e2b-7bf3-4562-b703-16847c069724',
   'f': 0,
   's': '1290686496811::12326896369707',
   'sku': '300119399',
   'p_spl': 0,
   'id': '1290686496811',
   'skus': ['300119399', 'DOVES', 'FARM', '無麩質白麵粉', '', '(1kg)'],
   'v_c': 1,
   'iso': False,
   'vra': [[12326896369707,
     [['Barcode', ['DOVES FARM 無麩質白麵粉 (1kg)']],
      ['Price', ['HKD:43.00']],
      ['Product-sku', ['300119399']],
      ['Sellable', [True]],
      ['Title', ['Default Title']]]]],
   'vrc': {}},
  {'l': 'LA POTAGERE Lobster Bisque (Seafood, Tomato and Vegetable Soup)  (1L)',
   'c': 'HKD',
   'u': '/products/la-potagere-lobster-bisque-tomato-seafood-and-vegetable-soup-1l',
   'p': '63.00',
   'p_min': '',
   'p_max': '',
   'p_c': '0.00',
   'p_min_c': '0.00',
   'p_max_c': '0.00',
   'd': 'Creating the simple, tasty yet healthy, nutritious products, and respecting the environment, these are the aims of this well-known French brand. Made with the best quality ingredients including lobster, vegetables, white wine, this Lobster Bisque is smooth, rich and flavourful, ideal to be the wonderful starter! \xa0 Keep refrigerated after opening *Photo for reference only. Keep refrigerated after opening *Photo for reference only. ',
   't': 'https://cdn.shopify.com/s/files/1/2597/8324/products/301153825-1-la-potagere-lobster-bisque-tomato-seafood-and-vegetable-soup-1l_large.jpg?v=1687229290',
   't2': 'https://assets.instantsearchplus.com/thumbs/cdn.shopify.com/28ba6097-f30a-47bd-84bb-d73179ac477b',
   'f': 0,
   's': '1290727161899::12327009976363',
   'sku': '301153825',
   'p_spl': 0,
   'id': '1290727161899',
   'skus': ['301153825', 'LA', 'POTAGERE', '法式龍蝦湯', '(海鮮番茄雜菜湯)', '', '(1L)'],
   'v_c': 1,
   'iso': False,
   'vra': [[12327009976363,
     [['Barcode', ['LA POTAGERE 法式龍蝦湯 (海鮮番茄雜菜湯) (1L)']],
      ['Price', ['HKD:63.00']],
      ['Product-sku', ['301153825']],
      ['Sellable', [True]],
      ['Title', ['Default Title']]]]],
   'vrc': {}}],
 'total_results': 683,
 'term': '1',
 'p': 1,
 'total_p': 35,
 'alternatives': [],
 'results_for': None,
 'isp_quick_view_mode': 1,
 'auto_facets': False,
 'related_results': False
}
```

There are data in the dictionary that meaningful for us, we may guess the meaning with they key value.

- `items` : the list of the product information
  - `l` : the product name
  - `c` : the currency
  - `u` : the product url
  - `p` : the price
  - `d` : the description
  - `t` : the image url
  - `sku` : the product sku
- `total_results` : the total number of the product
- `term` : the search term
- `p` : the current page
- `total_p` : the total pages

In other to retrieve the data, we need to write a function to loop through all pages and save the data into a list. We also import `urllib.parse` to encode the search query in URL encoding, in case it contains special characters.

```python
import requests
import json
import urllib.parse

def get_product(q, page):
    url = f'https://api.fastsimon.com/full_text_search?q={urllib.parse.quote(q)}&page_num={page}&UUID=a576ef0e-353e-426c-8673-dbefcd7987b4'
    response = requests.get(url)
    data = json.loads(response.text.lstrip('ispSearchResult(').rstrip(');'))
    return data['items'], data['total_p']

def get_all_products(q):
    page = 1
    products = []
    while True:
        data, total = get_product(q, page)
        products += data
        if page >= total:
            break
        page += 1
    return products
```

Let's try out the function by searching with several keywords.

For example, we search for `Tuna` and get the total number of the product.

```python
tuna = get_all_products('Tuna')
print(len(tuna))
tuna
```

For example, we search for `Candy` and get the total number of the product.

```python
candy = get_all_products('Candy')
print(len(candy))
candy
```

For example, we search for `Chocolate Chip` and get the total number of the product.

```python
chocolate_chip = get_all_products('Chocolate Chip')
print(len(chocolate_chip))
chocolate_chip
```

For example, we search for `Tea Bag` and get the total number of the product.

```python
tea_bag = get_all_products('Tea Bag')
print(len(tea_bag))
tea_bag
```

For example, we search for `sparkling water` and get the total number of the product.

```python
sparkling_water = get_all_products('sparkling water')
print(len(sparkling_water))
sparkling_water
```

# Data Processing and Cleaning

The data collected previously are considered as raw data, we need to process and clean them before we can use them for analysis. We will use `pandas` to process the data and `matplotlib` to visualize the data.

```python
import pandas as pd

tuna_df = pd.DataFrame(tuna)
tuna_df
```

```python
candy_df = pd.DataFrame(candy)
candy_df
```

```python
chocolate_chip_df = pd.DataFrame(chocolate_chip)
chocolate_chip_df
```

```python
tea_bag_df = pd.DataFrame(tea_bag)
tea_bag_df
```

```python
sparkling_water_df = pd.DataFrame(sparkling_water)
sparkling_water_df
```
